# Active Context: Bejeweled Clone with AI Mode

## Current Work Focus
The primary focus is on implementing core game functionality and ensuring proper theme support. Recent updates include:
1. Implementing automatic dark mode detection based on system preferences.
2. Fixing CSS issues to properly apply dark mode styles.
3. Investigating GameBoard functionality issues.

## Recent Changes
1. Updated `ThemeProvider` to automatically detect and apply system theme preferences.
2. Added CSS reset and viewport-height styles to ensure proper theme application.
3. Removed manual theme toggle in favor of system preference detection.
4. Fixed CSS specificity issues for theme styles.

## Next Steps
1. Fix GameBoard functionality issues.
2. Implement scoring logic and display.
3. Add sound effects for interactions.
4. Begin work on the AI module for automated gameplay.

## Active Decisions
1. Use system preferences for theme detection instead of manual toggle.
2. Apply theme styles to both body and app root elements for consistent appearance.
3. Focus on efficient algorithms for match detection and cascade handling.
4. Enhance the user experience with animations and sound effects.

## Current Issues
1. GameBoard functionality needs investigation and fixes.
2. Need to ensure proper contrast and visibility in dark mode for game elements.
